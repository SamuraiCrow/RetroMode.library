# Makefile for project "retromode"
# Automatically generated by idltool
# 
# $Id: genskeleton.cpp,v 1.13 2010-03-17 14:37:07 cmincea Exp $
# 

# Uncomment the next line if you are cross compiling
# CROSS_COMPILE = ppc-amigaos-

CC     = $(CROSS_COMPILE)gcc 
CXX    = $(CROSS_COMPILE)c++ 
AS     = $(CROSS_COMPILE)as 
LD     = $(CROSS_COMPILE)ld 
RANLIB = $(CROSS_COMPILE)ranlib 
RM     = delete
# RM     = rm

# Change these as required
OPTIMIZE = -O3 
DEBUG    = # -gstabs -DDEBUG
CFLAGS   = -Wall $(OPTIMIZE) $(DEBUG) -I../include -I./

# Flags passed to gcc during linking
LINK = 

# Name of the "thing" to build
TARGET = retromode.library

# Additional linker libraries
LIBS = -lm -mcrt=clib2

# Version of the library to build
VERSION = 1

# "main" Interface Source Files
main_SRCS = main/Obtain.c main/Release.c main/retroAllocVideo.c \
	sprite_solid.c \
	sprite_alpha.c \
	sprite_alpha_src_mask.c \
	sprite_alpha_dest_mask.c \
	sprite_alpha_src_dest_mask.c \
	sprite_solid_src_mask.c \
	sprite_solid_dest_mask.c \
	sprite_solid_src_dest_mask.c \
	main/retroFreeVideo.c main/retroClearVideo.c main/retroDrawVideo.c \
	main/retroDmaVideo.c main/retroOpenScreen.c main/retroCloseScreen.c \
	main/retroApplyScreen.c main/retroPixel.c main/retroPoint.c \
	main/retroFlash.c main/retroCycleColorsUp.c main/retroCycleColorsDown.c \
	main/retroBAR.c main/retroOrBAR.c main/retroXorBAR.c main/retroBox.c \
	main/retroOrBox.c main/retroXorBox.c main/retroShift.c main/retroCircleFilled.c \
	main/retroEllipse.c main/retroOrCircleFilled.c main/retroXorCircleFilled.c \
	main/retroScreenColor.c main/retroScreenBlit.c main/retroOrScreenBlit.c \
	main/retroXorScreenBlit.c main/retroBitmapBlit.c main/retroOrBitmapBlit.c \
	main/retroXorBitmapBlit.c main/retroAndClear.c main/retroModeBadVideoSync.c \
	main/AfterEffectScanline.c main/AfterEffectAdjustRGB.c main/retroTriangle.c \
	main/retroOrTriangle.c main/retroXorTriangle.c main/retroLine.c \
	main/retroOrLine.c main/retroXorLine.c main/retroAllocFrame.c \
	main/retroFreeFrame.c main/retroDrawFrame.c main/retroDeleteFlash.c \
	main/retroScreenOffset.c main/retroScreenDetach.c main/retroScreenToFront.c \
	main/retroScreenToBack.c main/retroStar.c main/retroOrStar.c \
	main/retroBoing.c main/retroLoadABKSprite.c main/retroFreeSprite.c \
	main/retroPasteSprite.c main/retroFill.c main/retroOrFill.c \
	main/retroBarRounded.c main/retroOrBarRounded.c main/retroXorBarRounded.c \
	main/retroThickLine.c main/retroZoom.c main/retroBobble.c \
	main/retroRainbowColorRange.c main/retroRain.c main/retroScreenClone.c \
	main/retroSetRainbow.c main/retroRainbow.c main/retroAllocSpriteObjects.c \
	main/retroFreeSpriteObjects.c main/retroFreeSpriteObject.c main/AfterEffectDrawSrpites.c \
	main/retroSprite.c main/retroColorRange.c main/retroPolyGonArray.c \
	main/retroCycleOff.c main/retroFadeScreen.c main/retroCircle.c \
	main/retroAllocDoubleBuffer.c main/retroLoadSprite.c main/retroGetSprite.c \
	main/retroAllocEngine.c main/retroFreeEngine.c main/retroScreenToBitmap.c \
	main/retroAllocBlock.c main/retroFreeBlock.c main/retroGetBlock.c \
	main/retroPasteIcon.c main/retroBarPattern.c main/retroPutBlock.c  \
	main/retroMakeMask.c main/retroFreeMask.c main/retroDrawShortPlanar.c \
	main/retroDrawMask.c main/retroGetMaxPlains.c main/retroRowToPlanar.c \
	main/retroSaveSprite.c main/retroPasteSpriteObject.c 

# this are never added by ideltool don't know way?
main_SRCS +=  main/retroPolyLine.c main/retroPolyGon.c 

# this are common files.
main_SRCS +=  main/retroModes.c main/retroTransparentModes.c 

# -------------------------------------------------------------
# Nothing should need changing below this line

SRCS = init.c

OBJS = $(main_SRCS:.c=.o)  $(SRCS:.c=.o)
# Rules for building
$(TARGET): $(OBJS)
	$(CC) $(LINK) -nostartfiles -o $(TARGET) $(OBJS) $(LIBS)

.PHONY: clean

vo:
	echo $(OBJS)

clean:
	$(RM) $(TARGET) $(OBJS)

.PHONY: revision
revision:
	bumprev $(VERSION) $(TARGET)

install:
	execute install_script

autodoc:
	autodoc -l100 $(main_SRCS) > $(TARGET:.library=.doc)
