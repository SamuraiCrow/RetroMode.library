# Makefile for project "retromode"
# Automatically generated by idltool
# 
# $Id: genskeleton.cpp,v 1.13 2010-03-17 14:37:07 cmincea Exp $
# 

# Uncomment the next line if you are cross compiling
# CROSS_COMPILE = ppc-amigaos-

CC     = $(CROSS_COMPILE)gcc 
CXX    = $(CROSS_COMPILE)c++ 
AS     = $(CROSS_COMPILE)as 
LD     = $(CROSS_COMPILE)ld 
RANLIB = $(CROSS_COMPILE)ranlib 
RM     = delete
# RM     = rm

# Change these as required
OPTIMIZE = -O3 
DEBUG    = # -gstabs -DDEBUG
CFLAGS   = -Wall $(OPTIMIZE) $(DEBUG) -I../include -I./

# Flags passed to gcc during linking
LINK = 

# Name of the "thing" to build
TARGET = retromode.library

# Additional linker libraries
LIBS = -lm -mcrt=clib2

# Version of the library to build
VERSION = 1

# "main" Interface Source Files
main_SRCS = main/Obtain.c main/Release.c main/alloc_retoVideo.c \
    main/free_retroVideo.c main/clear_retroVideo.c main/draw_retroVideo.c \
    main/dma_retroVideo.c main/set_retroVideoColor.c main/applyCopper.c \
    main/retroOpenScreen.c main/retroCloseScreen.c main/retroApplyScreen.c \
    main/retroPixel.c main/retroPoint.c main/retroBAR.c main/retroOrBAR.c \
    main/retroXorBAR.c main/retroBox.c main/retroOrBox.c main/retroXorBox.c \
    main/retroCircle.c main/retroOrCircle.c main/retroXorCircle.c \
    main/retroScreenColor.c main/retroOrBlit.c main/retroAndClear.c \
    main/retroModeBadVideoSync.c main/AfterEffectScanline.c \
    main/AfterEffectAdjustRGB.c 

# -------------------------------------------------------------
# Nothing should need changing below this line

SRCS = init.c

OBJS = $(main_SRCS:.c=.o)  $(SRCS:.c=.o)
# Rules for building
$(TARGET): $(OBJS)
	$(CC) $(LINK) -nostartfiles -o $(TARGET) $(OBJS) $(LIBS)

.PHONY: clean
clean:
	$(RM) $(TARGET) $(OBJS)

.PHONY: revision
revision:
	bumprev $(VERSION) $(TARGET)

install:
	execute install_script